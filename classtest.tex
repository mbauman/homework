\documentclass{homework}
\usepackage{lipsum}
\usepackage[T1]{fontenc}
% \tracingall

\title{Testing the \textsf{homework} class}
\author{Matthew Bauman}

\begin{document}

\maketitle

\tableofcontents

\section{Default: Section 1 (basics)}

\subsection{Default: Subsection 1.1}

\subsection[Custom TOC: Subsection 1.2 (custom)]{Custom TOC: Subsection 1.2}

\subsection[A-3)|]{Custom \#: Subsection A-3)}

\subsection[I.d:|Custom \# and TOC: Subsection I.d: (custom)]{Custom \# and TOC: Subsection I.d:}

\subsection[{{Custom TOC: Section 1.5 with | in TOC (custom)}}]{Custom TOC: Section 1.5 with | in TOC}

\subsection[{{$\alpha.\phi$|}}|]{Custom \#: Subsection $\alpha.\phi$| (pipe in number)}

\subsection{Default: Subsection 1.7}

\section[3x|]{Custom \#: Section 3x}

\subsection{Default: Subsection 3x.1}

\subsubsection{Default: Subsubsection 3x.1.1}

\subsection[C$\xi$.b|]{Custom \#: Subsection C$\xi$.b (totally override)}

\subsubsection{Default: Subsubsection C$\xi$.b.1}

\subsection{Default: Subsection 3x.3}

\subsection[\thesection.$\delta$|]{Custom \#: Subsection thesection.\$delta\$ (3x.$\delta$)}

\section{Default: Section 3 (empty components)}

\subsection[|]{Subsection \_: Both number and TOC name are empty}

\subsection[|Subsection \_: Only the number is empty (custom)]{Subsection \_: Only the number is empty}

\subsubsection{Subsubsection \_.1: Empties propagate properly}

\subsection{Default: Subsection 3.3, next section has empty TOC}

\subsection[]{Subsection 3.4 with a completely empty argument}

\subsection[3.5|]{Subsection 3.5 with custom \# and omitted TOC}

\subsection{Default: Subsection 3.6, next section has empty TOC}

\subsection[3.7| ]{Subsection 3.7 with custom \# and space in TOC}

\subsection[ |]{Subsection with a space in number only}

\subsection[3.9]{Next TOC entry completely blank}

\subsection[ | ]{Empty spaces in both segments}

\subsubsection{Default: Subsubsection \_.1: Empties propagate}

\subsection{Default: 3.11 Back to normal}

\section[2011|]{TODO: Long numbers are a problem in TOC}

\appendix

\section{Default: Appendix A}

\end{document}